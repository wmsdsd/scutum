var $,doc,win,scroll_container;$=window.jQuery,win=$(window),doc=$(document),scroll_container=win,$.fn.stick_in_parent=function(t){var o,b,i,x,e,s,C,r,P,V,F,z,I,T,j,A;for(null==t&&(t={}),T=t.sticky_class,j=t.sticky_class_bottom,C=t.inner_scrolling,I=t.recalc_every,z=t.parent,V=t.offset_top,P=t.spacer,x=t.bottoming,o=t.container,A=win.height(),b=doc.height(),null==V&&(V=0),null==z&&(z=void 0),null==C&&(C=!0),null==T&&(T="is-stuck"),null==j&&(j="is-stuck-bottom"),null==x&&(x=!0),null!=P&&(win=o),null!=o&&(scroll_container=$(o)),F=function(t){var o,i,e;return window.getComputedStyle?(o=t[0],i=window.getComputedStyle(o),e=parseFloat(i.getPropertyValue("width"))+parseFloat(i.getPropertyValue("margin-left"))+parseFloat(i.getPropertyValue("margin-right")),"border-box"!==i.getPropertyValue("box-sizing")&&(e+=parseFloat(i.getPropertyValue("border-left-width"))+parseFloat(i.getPropertyValue("border-right-width"))+parseFloat(i.getPropertyValue("padding-left"))+parseFloat(i.getPropertyValue("padding-right"))),e):t.outerWidth(!0)},e=function(r,n,l,c,a,p,d,u){var g,t,h,f,k,w,m,y,o,_,v,e;if(!r.data("sticky_kit")){if(r.data("sticky_kit",!0),k=b,m=r.closest(".sc-js-sticky-parent").length?r.closest(".sc-js-sticky-parent"):r.parent(),null!=z&&(m=m.closest(z)),!m.length)throw new Error("failed to find stick parent");if(g=h=!1,(v=null!=P?P&&r.closest(P):$("<div />"))&&v.css("position",r.css("position")),(y=function(){var t,o,i;if(!u)return A=win.height(),b=doc.height(),k=b,t=parseInt(m.css("border-top-width"),10),o=parseInt(m.css("padding-top"),10),n=parseInt(m.css("padding-bottom"),10),l=m.offset().top+t+o+win.scrollTop(),c=m.height(),h&&(g=h=!1,null==P&&(r.insertAfter(v),v.detach()),r.css({position:"",top:"",width:"",bottom:""}).removeClass(T).removeClass(j),i=!0),a=r.offset().top-(parseInt(r.css("margin-top"),10)||0)-V+win.scrollTop(),p=r.outerHeight(!0),d=r.css("float"),v&&v.css({width:F(r),height:p,display:r.css("display"),"vertical-align":r.css("vertical-align"),float:d}),i?e():void 0})(),p!==c)return f=void 0,w=V,_=I,e=function(){var t,o,i,e,s;if(!u)return i=!1,null!=_&&(_-=1)<=0&&(_=I,y(),i=!0),i||b===k||(y(),i=!0),e=scroll_container.scrollTop(),null!=f&&(o=e-f),f=e,p=r.outerHeight(!0),h?(x&&(s=c+l<e+p+w,g&&!s&&(g=!1,r.removeClass(j).css({position:"fixed",bottom:"",top:w}).trigger("sticky_kit:unbottom"))),e<a&&(h=!1,w=V,null==P&&("left"!==d&&"right"!==d||r.insertAfter(v),v.detach()),t={position:"",width:"",top:""},r.css(t).removeClass(T).removeClass(j).trigger("sticky_kit:unstick")),C&&A<p+V&&(g||(w-=o,w=Math.max(A-p,w),w=Math.min(V,w),h&&r.css({top:w+"px"})))):a<e&&(h=!0,(t={position:"fixed",top:w}).width="border-box"===r.css("box-sizing")?r.outerWidth()+"px":r.width()+"px",r.css(t).addClass(T),null==P&&(r.after(v),"left"!==d&&"right"!==d||v.append(r)),k=doc.height(),r.trigger("sticky_kit:stick")),h&&x&&(null==s&&(s=c+l<e+p+w),!g&&s)?(g=!0,"static"===m.css("position")&&m.css({position:"relative"}),r.addClass(j).css({position:"absolute",bottom:n,top:"auto"}).trigger("sticky_kit:bottom")):void 0},o=function(){return y(),e()},t=function(){if(u=!0,scroll_container.off("touchmove",e),scroll_container.off("scroll",e),$(window).off("resize",o),$(document.body).off("sticky_kit:recalc",o),r.off("sticky_kit:detach",t),r.removeData("sticky_kit"),r.css({position:"",bottom:"",top:"",width:""}),m.position("position",""),h)return null==P&&("left"!==d&&"right"!==d||r.insertAfter(v),v.remove()),r.removeClass(T)},scroll_container.on("touchmove",e),scroll_container.on("scroll",e),$(window).on("resize",o),$(document.body).on("sticky_kit:recalc",o),r.on("sticky_kit:detach",t),setTimeout(e,0)}},s=0,r=this.length;s<r;s++)i=this[s],e($(i));return this};